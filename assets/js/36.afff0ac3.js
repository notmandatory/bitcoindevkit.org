(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{458:function(t,e,a){"use strict";a.r(e);var s=a(18),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("A new release of BDK is out: "),a("a",{attrs:{href:"https://crates.io/crates/bdk/0.9.0",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("v0.9.0")]),a("OutboundLink")],1),t._v(" brings support for Bitcoin Core backends, more sanity checks and bugfixes.")]),t._v(" "),a("p",[t._v("You can find the full "),a("a",{attrs:{href:"https://github.com/bitcoindevkit/bdk/blob/7a9b691f68c41116dc7857bc0267a2e3b2eafdd3/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("v0.9.0 changelog"),a("OutboundLink")],1),t._v(" on GitHub.")]),t._v(" "),a("h2",{attrs:{id:"whats-new-in-v090"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whats-new-in-v090"}},[t._v("#")]),t._v(" What's new in v0.9.0")]),t._v(" "),a("p",[t._v("Below are some highlights of the new release:")]),t._v(" "),a("h2",{attrs:{id:"bitcoin-core-blockchain-backend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitcoin-core-blockchain-backend"}},[t._v("#")]),t._v(" Bitcoin Core "),a("code",[t._v("Blockchain")]),t._v(" Backend")]),t._v(" "),a("p",[t._v("This release finally adds support for using a Bitcoin Core node as the "),a("code",[t._v("Blockchain")]),t._v(" backend for a wallet, through the RPC. This is still considered experimental for the time being, since there are a few missing\nthings that we'd like to add, and adding those could force us to change the API a little.")]),t._v(" "),a("p",[t._v("Nonetheless, if you don't mind a breaking-change later on it's already fully functional.")]),t._v(" "),a("p",[t._v("The backend works by importing addresses in Bitcoin Core using the "),a("code",[t._v("importmulti")]),t._v(" call.")]),t._v(" "),a("p",[t._v("Using it is pretty straightforward, here's a quick example:")]),t._v(" "),a("div",{staticClass:"language-rust extra-class"},[a("pre",{pre:!0,attrs:{class:"language-rust"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RpcConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1:18332"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("to_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bitcoincore_rpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CookieFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/user/.bitcoin/.cookie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("into")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    network"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("bitcoin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Network")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Testnet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    wallet_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wallet_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("to_string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    skip_blocks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" blockchain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RpcBlockchain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("from_config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Similarly to the compact filters backend, the "),a("code",[t._v("skip_blocks")]),t._v(" field allows for starting a rescan of the blockchain at a given height rather than the genesis, saving some time. The rescan is only performed once, the\nfirst time an address is imported. Afterwards every "),a("code",[t._v("sync()")]),t._v(" call will only perform a few queries on the node and it will be much faster.")]),t._v(" "),a("h2",{attrs:{id:"updated-transactiondetails-struct"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updated-transactiondetails-struct"}},[t._v("#")]),t._v(" Updated "),a("code",[t._v("TransactionDetails")]),t._v(" Struct")]),t._v(" "),a("p",[t._v("To better accomodate the Bitcoin Core RPC and potentially more future new backends, the "),a("a",{attrs:{href:"https://docs.rs/bdk/0.9.0/bdk/struct.TransactionDetails.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("TransactionDetails")]),a("OutboundLink")],1),t._v(" structure have been updated as follows:")]),t._v(" "),a("ul",[a("li",[t._v("The "),a("code",[t._v("fees")]),t._v(" field has been renamed to "),a("code",[t._v("fee")]),t._v(" and it has been made optional. "),a("code",[t._v("Blockchain")]),t._v(" backends can set this to "),a("code",[t._v("None")]),t._v(" when they have no way of computing the fee of a transaction")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("timestamp")]),t._v(" and "),a("code",[t._v("height")]),t._v(" fields have been merged into an optional "),a("a",{attrs:{href:"https://docs.rs/bdk/0.9.0/bdk/struct.ConfirmationTime.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ConfirmationTime")]),a("OutboundLink")],1),t._v(" struct")])]),t._v(" "),a("h2",{attrs:{id:"verify-downloaded-txs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verify-downloaded-txs"}},[t._v("#")]),t._v(" Verify Downloaded TXs")]),t._v(" "),a("p",[t._v("This release also introduces an opt-in feature called "),a("code",[t._v("verify")]),t._v(" that can be enabled to verify the unconfirmed transactions that BDK downloads from untrusted sources like Electrum servers.")]),t._v(" "),a("p",[t._v('Verifying the transactions against the consensus rules can be an additional protection against some kind of attacks that could trick a wallet into creating wrong RBF (BIP 125) "bump" transactions. Check out '),a("a",{attrs:{href:"https://github.com/bitcoindevkit/bdk/issues/352",target:"_blank",rel:"noopener noreferrer"}},[t._v("the issue"),a("OutboundLink")],1),t._v("\nfor more details.")]),t._v(" "),a("h2",{attrs:{id:"contributors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contributors"}},[t._v("#")]),t._v(" Contributors")]),t._v(" "),a("p",[t._v("A huge thanks to everybody who contributed to this new release with suggestions, pull requests and bug reports.")]),t._v(" "),a("p",[t._v("Since the "),a("code",[t._v("v0.8.0")]),t._v(" release around a month ago, we've had "),a("code",[t._v("45")]),t._v(" new commits made by "),a("code",[t._v("6")]),t._v(" different contributors for a total of "),a("code",[t._v("1336")]),t._v(" additions and "),a("code",[t._v("266")]),t._v(" deletions. Here's the "),a("a",{attrs:{href:"https://github.com/bitcoindevkit/bdk/compare/v0.8.0...v0.9.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("full diff"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("A special thanks to the new contributor for this release:")]),t._v(" "),a("ul",[a("li",[t._v("[@jb55][@jb55] - William Casarin")])])])}),[],!1,null,null,null);e.default=n.exports}}]);