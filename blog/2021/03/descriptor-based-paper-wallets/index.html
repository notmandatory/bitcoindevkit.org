

<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.79.0" />
    <meta name="description" content="Demonstrate how to create descriptor-based paper wallet and how to spend them with bdk">
<meta name="author" content="Alekos Filini - @afilini">

    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
<link rel="manifest" href="/icons/site.webmanifest">
<link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

    <title>Descriptor-based paper wallets :: Bitcoin Dev Kit</title>

    
    <link href="/css/nucleus.css?1621379878" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1621379878" rel="stylesheet">
    <link href="/css/hybrid.css?1621379878" rel="stylesheet">
    <link href="/css/featherlight.min.css?1621379878" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1621379878" rel="stylesheet">
    <link href="/css/auto-complete.css?1621379878" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1621379878" rel="stylesheet">
    <link href="/css/theme.css?1621379878" rel="stylesheet">
    <link href="/css/hugo-theme.css?1621379878" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1621379878" rel="stylesheet">
    
    <link href="/css/style.css?1621379878" rel="stylesheet"><link href="/css/jsonview.css?1621379878" rel="stylesheet"><link href="/css/blog.css?1621379878" rel="stylesheet">

    <meta property="og:title" content="Descriptor-based paper wallets" />
<meta property="og:description" content="Demonstrate how to create descriptor-based paper wallet and how to spend them with bdk" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bitcoindevkit.org/blog/2021/03/descriptor-based-paper-wallets/" />
<meta property="og:image" content="https://bitcoindevkit.org/images/logo-wide.jpg"/>
<meta property="article:published_time" content="2021-03-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-03-30T00:00:00+00:00" />

    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://bitcoindevkit.org/images/logo-wide.jpg"/>

<meta name="twitter:title" content="Descriptor-based paper wallets"/>
<meta name="twitter:description" content="Demonstrate how to create descriptor-based paper wallet and how to spend them with bdk"/>


    <script src="/js/jquery-3.3.1.min.js?1621379878"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/blog/2021/03/descriptor-based-paper-wallets/">
    


<nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
    <img src="/images/logo.svg" alt="Bitcoin Dev Kit logo"/>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1621379878"></script>
<script type="text/javascript" src="/js/auto-complete.js?1621379878"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/bitcoindevkit.org\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1621379878"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/blog/" title="Blog" class="dd-item
        parent
        
        
        ">
      <a href="/blog/">
          <i class="fas fa-newspaper"></i> Blog
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/bdk-cli/" title="BDK CLI" class="dd-item
        
        
        
        ">
      <a href="/bdk-cli/">
          <i class="fas fa-terminal"></i> BDK CLI
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/bdk-cli/installation/" title="Installation" class="dd-item ">
        <a href="/bdk-cli/installation/">
        <b>1. </b>Installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/bdk-cli/concept/" title="Concept" class="dd-item ">
        <a href="/bdk-cli/concept/">
        <b>2. </b>Concept
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/bdk-cli/interface/" title="Interface" class="dd-item ">
        <a href="/bdk-cli/interface/">
        <b>3. </b>Interface
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/bdk-cli/regtest/" title="Regtest" class="dd-item ">
        <a href="/bdk-cli/regtest/">
        <b>4. </b>Regtest
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/bdk-cli/compiler/" title="Compiler" class="dd-item ">
        <a href="/bdk-cli/compiler/">
        <b>5. </b>Compiler
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/bdk-cli/playground/" title="Playground" class="dd-item ">
        <a href="/bdk-cli/playground/">
        <b>6. </b>Playground
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/descriptors/" title="Descriptors" class="dd-item
        
        
        
        ">
      <a href="/descriptors/">
          <i class="fas fa-code"></i> Descriptors
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/supporters/" title="Supporters" class="dd-item
        
        
        
        ">
      <a href="/supporters/">
          <i class="fas fa-heart"></i> Supporters
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://docs.rs/bdk"><i class='fas fa-book-open'></i> Stable Docs</a>
              </li>
          
              <li>
                  <a class="padding" href="https://bitcoindevkit.org/docs-rs/bdk/nightly/latest/bdk"><i class='fas fa-tools'></i> Nightly Docs</a>
              </li>
          
              <li>
                  <a class="padding" href="https://bitcoindevkit.org/bdk-cli/playground"><i class='fas fa-magic'></i> Playground</a>
              </li>
          
              <li>
                  <a class="padding" href="https://twitter.com/intent/follow?screen_name=bitcoindevkit"><i style='font-size: 20px' class='fab fa-twitter-square'></i> Follow on Twitter</a>
              </li>
          
              <li>
                  <a class="padding" href="https://discord.gg/dstn4dQ"><i style='font-size: 20px' class='fab fa-discord'></i> Chat on Discord</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <script type="text/javascript" src="/js/github-buttons.js"></script>

<center>
    
    <a class="github-button" href="https://github.com/bitcoindevkit/bdk/subscription" data-icon="octicon-eye" data-show-count="true" aria-label="Watch bitcoindevkit/bdk on GitHub">Watch</a>
    <a class="github-button" href="https://github.com/bitcoindevkit/bdk" data-icon="octicon-star" data-show-count="true" aria-label="Star bitcoindevkit/bdk on GitHub">Star</a>
    <a class="github-button" href="https://github.com/bitcoindevkit/bdk/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork bitcoindevkit/bdk on GitHub">Fork</a>
</center>

<center>Built with <a href="https://gohugo.io/">Hugo</a></center>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/bitcoindevkit/bitcoindevkit.org/edit/master/content/blog/2021/descriptor_based_paper_wallet.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                   Descriptor-based paper wallets
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#about-paper-wallets">About paper wallets</a></li>
    <li><a href="#descriptors">Descriptors</a></li>
    <li><a href="#example-use-case">Example use case</a></li>
    <li><a href="#creating-the-paper-wallet">Creating the paper wallet</a></li>
    <li><a href="#bdk">BDK</a></li>
    <li><a href="#funding-tx">Funding tx</a></li>
    <li><a href="#sweep-tx">Sweep tx</a>
      <ul>
        <li><a href="#step-1-alice-creates-and-signs-a-psbt">Step 1: Alice creates and signs a PSBT</a></li>
        <li><a href="#step-2-barbara-signs-alices-signed-psbt-and-broadcasts-the-tx">Step 2: Barbara signs Alice&rsquo;s signed PSBT and broadcasts the tx</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        


<div class="tags">

  <a class="tag-link" href="/blog/tags/guide">guide</a>

  <a class="tag-link" href="/blog/tags/descriptor">descriptor</a>

  <a class="tag-link" href="/blog/tags/paper-wallets">paper wallets</a>

</div>


        </div>
        
        <div id="body-inner">
          
            
            <h1 class="blog-title">Descriptor-based paper wallets </h1>
            
                <span class="blog-author">By </span><span class="blog-author"><a href="/authors/riccardo-casatta">Riccardo Casatta</a></span><span class="blog-author">, </span><span class="blog-author"><a href="/authors/steve-myers">Steve Myers</a></span>
            
            
          

        


<p>In this post, we will use the <a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a> tool to create a multi-owned descriptor-based paper wallet. We will use <a href="https://github.com/bitcoindevkit/bdk">bdk</a> via the <a href="https://github.com/bitcoindevkit/bdk-cli">bdk-cli</a> tool to test our descriptor and to be able to sweep the funds from our paper wallet to a new address.</p>
<h2 id="about-paper-wallets">About paper wallets</h2>
<p>Paper wallets have a lot of drawbacks, as explained in the <a href="https://en.bitcoin.it/wiki/Paper_wallet">paper wallet Wiki article</a>, as always, do your own research before deciding to use it with mainnet bitcoins. In this post we will
only be using testnet coins.</p>
<h2 id="descriptors">Descriptors</h2>
<p>The <a href="https://github.com/RCasatta/rusty-paper-wallet/tree/339fa4418d94f6fdd96f3d0301cab8a0bc09e8bd">previous version</a> of the <a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a> followed the original paper wallet design: WIF<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> as secret part with the option to generate a different kind of addresses (legacy, nested segwit, and segwit).</p>
<p>There were plans to <a href="https://github.com/RCasatta/rusty-paper-wallet/issues/5">support mnemonic</a> instead of WIF keys because it may<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> save the sweep transaction<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> and there are more wallets capable of importing a mnemonic instead of a WIF.</p>
<p>However, choosing a single address type or having wallet support for a specific format is the kind of problem <a href="/descriptors">descriptors</a> solve perfectly, so the latest <a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a> version now accepts a descriptor and the network as parameters.</p>
<h2 id="example-use-case">Example use case</h2>
<p>So let&rsquo;s say your grandma wants to buy bitcoin and asked for your help.</p>
<p>You are a little afraid she may lose the private key. At the same time, you don&rsquo;t want to duplicate the keys and give those to her daughters Alice and Barbara, because both of them could spend and accuse the other of having done so.</p>
<p>Even though we trust everyone in the family it is better to play it safe and divide the responsibility of protecting Grandma&rsquo;s bitcoin.</p>
<p>This is a perfect case for a 2 of 3 multi-signature paper wallet. This way also protects the participants from having their copy of the wallet stolen. To compromise Grandma&rsquo;s wallet a thief would need to find and steal at least two of them.</p>
<p>Note that you as the wallet creator are still the single point of trust because you are going to generate the keys for everyone. Setups combining self generated keys from the participants is possible future work.</p>
<h2 id="creating-the-paper-wallet">Creating the paper wallet</h2>
<p>For this example the spending descriptor would be:</p>
<p><code>wsh(multi(2,Grandma,Alice,Barbara))</code></p>
<p>You need <a href="https://www.rust-lang.org/tools/install">rust</a> installed to use <a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a>. The -n option below explicitly selects
generating <code>testnet</code> keys. Use <code>rusty-paper-wallet --help</code> to see usage instructions and other
options.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ cargo install rusty-paper-wallet
$ rusty-paper-wallet <span style="color:#e6db74">&#34;wsh(multi(2,Grandma,Alice,Barbara))&#34;</span> -n testnet
data:text/html;base64,PCFET0N...
</code></pre></div><p>The <a href="/images/descriptor-based-paper-wallets/data-url.txt">output</a> of the command is very long and has been shortened. The string is a <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">data URI scheme</a> paste-able in the address bar of a browser. By using a data URI no files are written on the hard disk, leaving less trace of secret material on the computer.
It&rsquo;s also a good idea to use incognito mode in the browser to prevent it from saving the page in the history.</p>
<p>The following is the result:</p>
<iframe src="/images/descriptor-based-paper-wallets/Bitcoin_Paper_Wallet.html" style="width: 100%; height: 800px; border: 1px solid black;"></iframe>
<p>Under the hood, the command created a key pair randomly for every alias present in the descriptor, then replaced the aliases with the created keys and generated the corresponding address. This address is the same for every paper wallet and it is shown in the upper part of the paper wallet (the public part) along with the alias, linking the paper wallet to the owner.</p>
<p>The lower part is the secret part, the written part is the descriptor with the aliases, followed by a legend linking the aliases with the keys. In the legend, all the keys are public but the one of the owner which is a private WIF. The secret QR code instead contains the descriptor already with the keys.</p>
<p>The paper wallet must then be printed, and it is better to use a printer without wifi and also to be aware that some sensitive data may remain in the printer&rsquo;s cache.</p>
<p>Then the paper wallet must be cut along the dotted lines, the secret part should be folded twice over the black zone<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>. The black zone helps to avoid showing the secret parts in the presence of back-light. Once the folding is done the paper wallet should be plasticized to prevent being damaged by water.</p>
<h2 id="bdk">BDK</h2>
<p>Any descriptor based wallet can be used to check the balance of and sweep the funds from
Grandma&rsquo;s paper wallet. For this post we&rsquo;ll demonstrate using the <a href="https://github.com/bitcoindevkit/bdk-cli">bdk-cli</a> tool to do these steps.
Another area where <a href="https://github.com/bitcoindevkit/bdk">bdk</a> could be used with <a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a> is to compile a more
complicated miniscript spending policy into a descriptor, as we have done in the <a href="/blog/2021/02/spending-policy-demo/#step-4-create-wallet-descriptors-for-each-participant">spending policy demo</a> post.</p>
<h2 id="funding-tx">Funding tx</h2>
<p>Since Grandma&rsquo;s wallet was created as a <code>wsh</code> descriptor, bitcoin can be sent to it from any
segwit capable wallet, we&rsquo;ll use a public <a href="https://bitcoinfaucet.uo1.net/">bitcoin testnet faucet</a>. Once the funds are sent the
deposit address <code>tb1qu6lcua9w2zkarjj5xwxh3l3qtcxh84hsra3jrvpszh69j2e54x7q3thycw</code> we can also use this
address and a testnet explorer to <a href="https://mempool.space/testnet/address/tb1qu6lcua9w2zkarjj5xwxh3l3qtcxh84hsra3jrvpszh69j2e54x7q3thycw">confirm the funds were received</a>.</p>
<h2 id="sweep-tx">Sweep tx</h2>
<p>Now that Grandma&rsquo;s paper wallet is funded it&rsquo;s time to demonstrate how to use <a href="https://github.com/bitcoindevkit/bdk-cli">bdk-cli</a> to sweep these
funds to a new address. Let&rsquo;s assume Grandma lost her original paper wallet and has asked
her daughters to sweep them to a new single signature wallet so she can spend them.</p>
<h3 id="step-1-alice-creates-and-signs-a-psbt">Step 1: Alice creates and signs a PSBT</h3>
<p>Alice uses the private text or QR code from her paper wallet to find her private key and the
public keys for Grandma and Barbara. With this info she creates a PSBT to sweep Grandma&rsquo;s funds
to a new address (in this example we&rsquo;ll send them back to our <a href="https://bitcoinfaucet.uo1.net/">bitcoin testnet faucet</a>). Notice how Alice
includes her wallet&rsquo;s descriptor checksum &lsquo;#em3q73l5&rsquo;, this <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md#checksums">guarantees</a> she has entered her descriptor correctly.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ SWEEP_TO_ADDR<span style="color:#f92672">=</span>tb1qm5tfegjevj27yvvna9elym9lnzcf0zraxgl8z2

$ ALICE_WIF<span style="color:#f92672">=</span>cSSKRHDmQEEutp5LD14tAcixu2ehSNPDTqNek1zMa9Pet98qxHq3
$ BARBARA_PUBKEY<span style="color:#f92672">=</span>02a3f3f2658b9812ddeabfbde2fde03f8a65369e4ed621f29fa8ba0cc519b789fb
$ GRANDMA_PUBKEY<span style="color:#f92672">=</span>03f1bd2bff8e9c61f58a8d46d18fd8f3149b1f2d76b3c423a7874a5d5811d67cee
$ ALICE_DESCRIPTOR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wsh(multi(2,</span>$GRANDMA_PUBKEY<span style="color:#e6db74">,</span>$ALICE_WIF<span style="color:#e6db74">,</span>$BARBARA_PUBKEY<span style="color:#e6db74">))#em3q73l5&#34;</span>

<span style="color:#75715e"># confirm descriptor creates the expected deposit address</span>
$ bdk-cli wallet -w alice -d $ALICE_DESCRIPTOR get_new_address
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;address&#34;</span>: <span style="color:#e6db74">&#34;tb1qu6lcua9w2zkarjj5xwxh3l3qtcxh84hsra3jrvpszh69j2e54x7q3thycw&#34;</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e"># sync the wallet and show the balance</span>
$ bdk-cli wallet -w alice -d $ALICE_DESCRIPTOR sync
<span style="color:#f92672">{}</span>

$ bdk-cli wallet -w alice -d $ALICE_DESCRIPTOR get_balance
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;satoshi&#34;</span>: <span style="color:#ae81ff">10000</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e"># create and sign PSBT</span>
$ UNSIGNED_PSBT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>bdk-cli wallet -w alice -d $ALICE_DESCRIPTOR create_tx --send_all --to $SWEEP_TO_ADDR:0 | jq -r <span style="color:#e6db74">&#34;.psbt&#34;</span><span style="color:#66d9ef">)</span>

$ ALICE_SIGNED_PSBT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>bdk-cli wallet -w alice -d $ALICE_DESCRIPTOR sign --psbt $UNSIGNED_PSBT | jq -r <span style="color:#e6db74">&#34;.psbt&#34;</span><span style="color:#66d9ef">)</span>
</code></pre></div><h3 id="step-2-barbara-signs-alices-signed-psbt-and-broadcasts-the-tx">Step 2: Barbara signs Alice&rsquo;s signed PSBT and broadcasts the tx</h3>
<p>Now it&rsquo;s Barbara&rsquo;s turn to use the private text or QR code from her paper wallet to get her private
key and the public keys for Grandma and Alice. With this info plus Alice&rsquo;s signed PSBT she can
create a fully signed PSBT to broadcast and complete the sweep of Grandma&rsquo;s funds.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ ALICE_PUBKEY<span style="color:#f92672">=</span>02e486e32f0f87136fa042cb53219ace8537ea1d036deb2f4293570b94325d11cb
$ BARBARA_WIF<span style="color:#f92672">=</span>cSfMLzSZ9NjWUTqL3sFpgWJssnu2qgmE2cm5N1jPDRRJuDcrsPEB
$ GRANDMA_PUBKEY<span style="color:#f92672">=</span>03f1bd2bff8e9c61f58a8d46d18fd8f3149b1f2d76b3c423a7874a5d5811d67cee
$ BARBARA_DESCRIPTOR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wsh(multi(2,</span>$GRANDMA_PUBKEY<span style="color:#e6db74">,</span>$ALICE_PUBKEY<span style="color:#e6db74">,</span>$BARBARA_WIF<span style="color:#e6db74">))#nxfa5n0z&#34;</span>

<span style="color:#75715e"># confirm descriptor creates the expected deposit address</span>
$ bdk-cli wallet -w barbara -d $BARBARA_DESCRIPTOR get_new_address
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;address&#34;</span>: <span style="color:#e6db74">&#34;tb1qu6lcua9w2zkarjj5xwxh3l3qtcxh84hsra3jrvpszh69j2e54x7q3thycw&#34;</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e"># sync the wallet and show the balance</span>
$ bdk-cli wallet -w barbara -d $BARBARA_DESCRIPTOR sync
<span style="color:#f92672">{}</span>

$ bdk-cli wallet -w barbara -d $BARBARA_DESCRIPTOR get_balance
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;satoshi&#34;</span>: <span style="color:#ae81ff">10000</span>
<span style="color:#f92672">}</span>

$ FINAL_PSBT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>bdk-cli wallet -w barbara -d $BARBARA_DESCRIPTOR sign --psbt $ALICE_SIGNED_PSBT | jq -r <span style="color:#e6db74">&#34;.psbt&#34;</span><span style="color:#66d9ef">)</span>

$ bdk-cli wallet -w barbara -d $BARBARA_DESCRIPTOR broadcast --psbt $FINAL_PSBT
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;txid&#34;</span>: <span style="color:#e6db74">&#34;9ecd8e6be92b7edd8bf1799f8f7090e58f813825f826bdb771b4cdb444cdeb59&#34;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>And finally we verify that Alice and Barbara successfully created and broadcast Grandma&rsquo;s <a href="https://mempool.space/testnet/tx/9ecd8e6be92b7edd8bf1799f8f7090e58f813825f826bdb771b4cdb444cdeb59">sweep tx</a>.</p>
<h2 id="conclusion">Conclusion</h2>
<p>In this post we showed how to create a multi-sig descriptor based paper wallet using
<a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a> and then sweep the funds from our example paper wallet to a new address. If you
found this post interesting please comment below. Or give it a try yourself and if you run into any
problems or would like to suggest improvements leave an issue in the <a href="https://github.com/RCasatta/rusty-paper-wallet">Rusty Paper Wallet</a> or
<a href="https://github.com/bitcoindevkit/bdk-cli">bdk-cli</a> github repos. Thanks!</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Wallet Input Format, a string encoding a ECDSA private key  <a href="https://en.bitcoin.it/wiki/Wallet_import_format">https://en.bitcoin.it/wiki/Wallet_import_format</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Unless the user import the WIF directly into bitcoin core <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>Some wallets refers to sweep as the action to create a transaction taking all the funds from the paper wallet and sending those to the wallet itself. <a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p>Ideally, the black zone should be twice as long as the secret part to cover it back and front, long descriptor may leave a shorter black zone, ensure to have you printer set with vertical layout for best results. <a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>


<footer class="footline">
	
</footer>

        
        </div>
        

<script src="https://utteranc.es/client.js"
        repo="bitcoindevkit/blog-comments"
        issue-term="pathname"
        label="blog-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1621379878"></script>
    <script src="/js/perfect-scrollbar.min.js?1621379878"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1621379878"></script>
    <script src="/js/jquery.sticky.js?1621379878"></script>
    <script src="/js/featherlight.min.js?1621379878"></script>
    <script src="/js/highlight.pack.js?1621379878"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1621379878"></script>
    <script src="/js/learn.js?1621379878"></script>
    <script src="/js/hugo-learn.js?1621379878"></script>
    
        
            <script src="/mermaid/mermaid.js?1621379878"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    <script type="text/javascript" src="/js/jsonview.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/main.js" charset="utf-8"></script>

  </body>
</html>

